# CLANNAD android Việt Hoá

![ảnh Lăn Nách](clannad.jpg)

## Giới thiệu
 
Tôi căm ghét thị trấn này.
<br>
Nó đầy rẫy những kí ức mà tôi muốn quên đi.
<br>
Một cuộc sống vô vị, không mục tiêu, không lý tưởng...
<br>
Kể cả thú vui cho bản thân mình cũng không.
<br>
Suốt 365 ngày
<br>
Không một giây nào tôi thấy bình yên.
<br>
Những tháng ngày vô nghĩa tưởng như không chấm dứt.
<br>
( biểu hiện của trầm kảm đấy :penguin: )
<br>
Nhưng...
<br>
Trên con đường ấy...
<br>
Một cô gái nhút nhát...
<br>
Với những lời nói ngây thơ đến kì lạ.
<br>
Cuộc gặp gỡ đó...
<br>
Đã làm thay đổi hoàn toàn cuộc đời tôi.
<br>
(Ps: Muốn thoát trầm kảm ư, chơi game này học cách tán gái đi :rofl: )

_____________________________________________________________________________
### Hãy **ĐỌC KĨ** các nội dung dưới đây.
<!--
## Thông tin chung
- Đây là phiên bản port từ đĩa cài CLANNAD Full Voice, được mod lại để chơi được trên android thông qua giả lập rlvm
- Bản port được tạo ra với mục đích ban đầu là dành cho bản thân người port, nên các vấn đề về lỗi phát sinh trong và sau khi cài sẽ không được hỗ trợ.
- Bản dịch được lấy từ [đây](https://www.baka-tsuki.org/project/index.php?title=CLANNAD_%7EVietnamese%7E), của nhóm vnkeyfc.
- Nghiêm cấm sử dụng bản port dưới bất kì hình thức thương mại nào.
-->
## Link tải
- Patch từ github: [link](https://github.com/luudanmatcuoi-vn/CLANNAD_android_viethoa/raw/main/CLANNAD_android_viethoa_patch.rar)
- Link full game android việt hoá: [Terabox](https://terabox.com/s/1_R3hm3OFCCePKoFTjTYsRw) hoặc  [Drive](https://drive.google.com/file/d/1K5HxFEWcTfgF19mAJ3DUX6jH14apWOOD/view?usp=sharing)

## Cách cài đặt

Video hướng dẫn : https://youtu.be/kFRp3Is5EFw

- Bước 1: Chuẩn bị thư mục game (có 2 cách)
  - Cách 1 (cần có PC): 
    - Cài đặt mới game bằng đĩa gốc. Các bạn có thể tìm kiếm tại [đây](https://solidtorrents.to/torrents/key-clannad-full-voice-rar-83345/5bd7e76914ab180a270b7ff9/)
    - Download bộ patch và giải nén (password: `Luudanmatcuoi`) vào thư mục chứa game, mặc định là `C:\KEY\CLANNAD_FV`
    - Sao chép toàn bộ thư mục chứa game vào điện thoại android
  - Cách 2:
    - Down full game từ link [Terabox](https://terabox.com/s/1_R3hm3OFCCePKoFTjTYsRw)  hoặc [Drive](https://drive.google.com/file/d/1K5HxFEWcTfgF19mAJ3DUX6jH14apWOOD/view?usp=sharing)
    - Giải nén :penguin:
- Bước 2: cài đặt giả lập
  - Cài đặt app giả lập rlvm: [link](https://m.apkpure.com/vn/rlvm/is.xyz.rlvm)
  - Mở app rlvm rồi tắt
  - Sao chép và ghi đè file `DroidSansFallbackFull.ttf` vào thư mục `Android/data/is.xyz.rlvm/files` trong điện thoại.
  - Mở app rlvm, đến thư mục game và chiến thôi.

## Lưu ý

- Thoát game bằng cách bấm "EXIT" hoặc "End the game" để các savegame của bạn lưu lại trong lần chơi tiếp theo<br>
__LÀM ƠN THOÁT GAME BẰNG CÁCH BẤM NÚT EXIT TRONG GAME__
<br>( kể cả bạn save trong game rồi nhưng tiện tay tắt app rlvm thì quá trình chơi của bạn không được lưu ( Note: Đó là tính năng ) )
- Đây là phiên bản chơi "được" ko có nghĩa là chơi "tốt" trên android.
  ( đừng bắt 1 con game 20 năm trước với trình giả lập đã ngừng phát triển từ thập kỷ trước phải chạy mượt mà )
- Một số câu thoại sẽ không được việt hoá hoặc viet hoa khong dau ( do dev lười :penguin: )
- Giao diện game sẽ không được việt hoá mà là tiếng anh.
- Save game của rlvm không tương thích với bất cứ phiên bản nào khác.
- Không có chức năng dangopedia các từ dangopedia và giải nghĩa sẽ được cập nhật sau trên trang này.

  
 Mình khuyến khích các bạn chơi bản HD đã được việt hoá bởi vnkeyfc :penguin:
 <br>
( Đằng nào bản HD đó cũng patch được cho bản lậu <\("\) patch vào lậu game vẫn nhận nhé, đó là tính năng )

## Bug report
- Hỏi gì sang kênh youtube của mình mà hỏi https://www.youtube.com/channel/UCdyAb9TAX1qQ5R2-c91-x8g ( mặc dù kênh bị tha hoá r )
- Báo lỗi thì viết tâm thư qua tab Issues ý... chắc là t sẽ fix.

## For developers
I use rldev to change vietnamese characters to ΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟ...(characters that reallive accept), rlBabel.dll to remove space between characters and modify default font to change weird characters to actually vietnamese characters.
<br>
In other words, reallive engine that support Shift-JIS encoding thought displaying weird characters. Program using modified font which change those characters to characters we want.
<br>
Firstly, rldev, you can find out in kazamatsuri, someone already build kprl.exe and rlc.exe so you can run it in cygwin.
<br>
Secondly, rlBabel, I transfer method from Tomoyo After Doki fan trans... yep, extract TA game and find out how they done it.
<br>
add `#DLL.000 = "rlBabel"` to GAMEEXE.INI
```
#res<0001>
strS[1900] = 'I may be independent at work now, but it\'s not like my duties have changed.'
gosub @39
pause
```
remove `eot` line and add some code in the bottom of a org file (this is sample, you have to change entrypoint number so it won't conflict)
```
CallDLL(1, 10, intC[1] | 1179648)
goto @40

  @39
CallDLL(1, 10, 1181548)

  @40
DisableAutoSavepoints
store = 8
strS[1900] = '        '

  @41
goto_unless(store < 512) @42
strS[1900] += strS[1900]
store *= 2
goto @41

  @42
CallDLL(1, 12, 1181548, 131073)
goto_on(store){  @49, @50, @48, @43, @44, @45, @46, @47 }
goto @50

  @43
br
goto @42

  @44
page
TextPos(0, 0)
CallDLL(1, 13, 1181548)
goto @42

  @45
SetIndent
goto @42

  @46
ClearIndent
goto @42

  @47
FontColour(6)
CallDLL(1, 21)
intC[0] += 1

  @48
#res<0521>
goto @42

  @49
strS[1901] = strS[1900]
strS[1900] = 'Error: '
strS[1900] += strS[1901]
strS[1900] += '. Unable to format text.'
strclear(strS[1901])
FastText
#res<0522>
NormalText

  @50
EnableAutoSavepoints
ret
goto @42
halt
```
Finally, modify font, Just do it <(")
<br>
read rldev docs for further informations

## Acknowledgments
Để có được bản port này, xin được gửi lời cảm ơn đến:
- [Haeleth](http://www.haeleth.net/) Một thiên tài, người khởi đầu cho tất cả
- [xyzz](https://github.com/xyzz/rlvm-android) Người viết trình giả lập
- [vnkeyfc](https://vnkeyfc.com) Đơn vị dịch game
- [Baka-Tsuki](https://www.baka-tsuki.org/) Nơi lưu trữ bản dịch game
- [Kazamatsuri](https://kazamatsuri.org/) Cộng đồng hâm mộ Key (đã tốt nghiệp) 
- vnsharing.net tuổi thơ :penguin:

## Thừa giấy vẽ voi
Yeah... cuộc hành trình dài,... dài đằng đẵng,... tưởng chừng vô tận,... cuối cùng... đã đến hồi kết.

Như t đã đề cập trong lời bình của bản việt hoá CLANNAD HD, t bắt đầu từ con số 0, hoàn toàn tự học. T làm gần như hết và toàn bộ là tự học.
Tuổi thơ học tập của t là những ngày tháng bắt trộm wifi hàng xóm, copy từng bài viết trên mạng sang doc để về đọc dần hoặc thức cả buổi trưa tải 2GB file ghost winxp để học cài lại win hoặc tốn cả buổi lục lọi internet chỉ để kiếm file pdf cho cuốn sách mà mình muốn đọc. Cho nên t vẫn luôn cảm kích tới những bài viết hướng dẫn tâm huyết không dấu diếm kiến thức, không quảng cáo gì.
Bản port này là lời cảm ơn nhỏ tới những vị anh hùng nặc danh đó và là tia hi vọng cho những bạn trẻ không có máy tính. Mong càng nhiều người hơn biết tới tác phẩm ý nghĩa này.

Sayonara


